# Knowledge Base Enhancement Work Mode Guide

**Single Purpose**: Complete knowledge base enhancement using structured compiler data to update existing YAML files and fill knowledge gaps

**This document provides**: 
1. **Structured Data Analysis** â†’ generates â†’ **MCP Tasks** â†’ enables â†’ **Systematic Enhancement** â†’ results in â†’ **Updated Knowledge Base**

## ðŸš¨ SESSION START INTEGRATION

### Work Mode Identification
**Trigger Phrases**: "knowledge base enhancement", "update YAML with compiler data", "SPIN2 language specification", "update existing knowledge base", "compiler analysis integration"
**Confirmation**: "This covers systematic enhancement of existing knowledge base using structured compiler data sources"

### Enhancement Source Types

#### **Type 1: Compiler Language Specifications**
**User says**: "SPIN2 language specification JSON" / "pnut-ts compiler data" / "language element updates"
**Process**: 
- Source: Structured JSON from compiler analysis
- Target: Existing YAML files in knowledge base
- Method: Cross-reference, gap analysis, enhancement

#### **Type 2: Instruction Analysis Updates**
**User says**: "PASM instruction updates" / "instruction enhancement from compiler"
**Process**:
- Source: Compiler instruction analysis data
- Target: Existing instruction YAML files
- Method: Operand pattern updates, flag effect validation

### Todo MCP Integration  
**CRITICAL - Always use this filter:**
```bash
mcp__todo-mcp__todo_next tags:["knowledge_enhancement"]
```

**Why This Matters:**
- âœ… **Focuses on enhancement-specific tasks** 
- âœ… **Prevents mixing enhancement with generation** 
- âœ… **Ensures systematic progression** from structured data to updated knowledge
- âœ… **Clean separation from document ingestion tasks**

### ðŸŽ¯ **CRITICAL TAGGING RULE**
**ALL tasks generated by this workflow MUST use the tag: `["knowledge_enhancement"]`**

**This ensures**:
- `mcp__todo-mcp__todo_next tags:["knowledge_enhancement"]` returns ONLY your enhancement tasks
- No interference from other work mode tasks
- Clean, focused execution environment
- Proper task sequencing within enhancement workflow

---

## ðŸ”„ KNOWLEDGE BASE ENHANCEMENT WORKFLOW
*Follow this exact sequence for optimal results*

### ðŸš¨ MANDATORY FIRST STEP: TASK GENERATION
**BEFORE ANY WORK BEGINS - ALWAYS CREATE THE 6 CORE TASKS**

```bash
# REQUIRED: Create these 6 tasks IMMEDIATELY when starting any enhancement
mcp__todo-mcp__todo_create content:"Phase 1: Source analysis and self-consistency audit of [source-name]" priority:"critical" estimate_minutes:20 tags:["knowledge_enhancement"] sequence:1

mcp__todo-mcp__todo_create content:"Phase 2: Knowledge base inventory and gap analysis for [source-name]" priority:"critical" estimate_minutes:30 tags:["knowledge_enhancement"] sequence:2

mcp__todo-mcp__todo_create content:"Phase 3: Cross-reference validation between [source-name] and existing knowledge" priority:"critical" estimate_minutes:45 tags:["knowledge_enhancement"] sequence:3

mcp__todo-mcp__todo_create content:"Phase 4: Execute systematic YAML file updates from [source-name]" priority:"critical" estimate_minutes:90 tags:["knowledge_enhancement"] sequence:4

mcp__todo-mcp__todo_create content:"Phase 5: Validation and consistency verification of updated knowledge base" priority:"critical" estimate_minutes:30 tags:["knowledge_enhancement"] sequence:5

mcp__todo-mcp__todo_create content:"Phase 6: Update system catalogs and enhancement tracking for [source-name]" priority:"critical" estimate_minutes:25 tags:["knowledge_enhancement"] sequence:6

# Set tracking context
mcp__todo-mcp__context_set key:"enhancement_active_[source-name]" value:"Started: [timestamp], Source: [full-path], Tasks generated: 6 core tasks"
```

**WHY THIS IS MANDATORY:**
- âœ… Prevents partial updates that create inconsistencies
- âœ… Ensures all existing YAML files are considered
- âœ… Maintains audit trail of enhancement decisions
- âœ… Enables recovery if session is interrupted
- âœ… Systematic validation prevents knowledge corruption

**âš ï¸ NEVER SKIP TASK CREATION** - Even for "simple" enhancements, create all 6 tasks first

### PHASE 1: SOURCE ANALYSIS & AUDIT
**ALWAYS START TASK FIRST**: `mcp__todo-mcp__todo_start position_id:1`

#### Step 1: Locate and Assess Source Data
**ALWAYS READ FROM**: Source location provided by user (e.g., `/engineering/ingestion/external-inputs/from-pnut-ts/SPIN2-Language-Specification.json`)
- Verify source file exists and is complete
- **Check file size and structure** using file info tools
- Note creation date, version information
- Validate JSON structure if applicable

#### Step 2: Source Self-Consistency Audit
**Goal**: Verify internal consistency of source data before using it
**Process**:
- **Metadata validation**: Check stated counts against actual content
- **Structure validation**: Verify all required fields present
- **Cross-reference validation**: Check internal relationships
- **Category consistency**: Verify categorization is logical
- **Format consistency**: Ensure consistent data formats
- **Completeness check**: Identify any obvious gaps or truncations

**Example for JSON sources**:
```markdown
### Self-Consistency Audit Results
- **Metadata Count Verification**: [totalKeywords: 36 vs actual: 36] âœ…
- **Required Fields**: [All entries have required fields] âœ…
- **Category Distribution**: [Logical grouping verified] âœ…
- **Format Consistency**: [Syntax patterns consistent] âœ…
- **Obvious Gaps**: [None identified/List any found]
```

#### Step 3: Source Quality Assessment
**Trust Level Assignment**:
- **âœ… GREEN**: Direct compiler extraction, verified automated process (AUTHORITATIVE - compiler defines language)
- **âš ï¸ YELLOW**: Community-derived, unverified extraction
- **âŒ RED**: Manual transcription, high error potential

**ðŸ”´ CRITICAL: High-Trust Compiler Source Protocol**
**When source is compiler-extracted data (GREEN trust level)**:
- **Conflict Resolution**: Compiler data takes precedence as "final word" on language definition
- **New Element Discovery**: Expect to find previously unknown operators, debug commands, language features
- **Knowledge Evolution**: This source may reveal gaps or misconceptions in current knowledge base
- **Continuous Processing**: Do NOT stop ingestion for conflicts - document and proceed with compiler authority
- **Mandatory Conflict Audit**: Generate special audit report documenting ALL differences found

**Quality Factors**:
- **Extraction method**: Automated vs manual
- **Source authority**: Official compiler vs community tool
- **Verification status**: Cross-checked vs unverified
- **Completeness**: Full extraction vs partial sample

---

**COMPLETE TASK**: `mcp__todo-mcp__todo_complete position_id:1` when Phase 1 is done

### PHASE 2: KNOWLEDGE BASE INVENTORY & GAP ANALYSIS
**ALWAYS START TASK FIRST**: `mcp__todo-mcp__todo_start position_id:1`

#### Step 4: Existing Knowledge Base Inventory
**Goal**: Catalog what's already in the knowledge base before enhancement
**Process**:
1. **Identify target YAML files**: Find existing files that could be enhanced
2. **Category mapping**: Map source categories to existing file structure
3. **Content inventory**: Count existing entries by category
4. **Quality assessment**: Note existing completeness levels

**For SPIN2 Language Elements**:
- Check `/language-elements/` directory structure
- Inventory existing keyword files
- Check operator coverage
- Assess built-in function documentation
- Review data type definitions

#### Step 5: Gap Analysis Between Source and Knowledge Base
**Goal**: Identify what's missing, incomplete, or inconsistent
**Process**:
1. **Missing elements**: Items in source not in knowledge base
2. **Incomplete coverage**: Elements with partial information
3. **Inconsistency detection**: Different information for same elements
4. **Enhancement opportunities**: Where source provides richer data

**Gap Analysis Format**:
```markdown
### Gap Analysis Results
#### Missing Elements (Not in KB):
- [Element name] ([category]) - [brief description]
- [Element name] ([category]) - [brief description]

#### Incomplete Elements (Partial coverage):
- [Element name]: Missing [syntax/examples/description]
- [Element name]: Missing [specific field]

#### Inconsistency Candidates:
- [Element name]: Source says [X], KB says [Y]
- [Element name]: Different categorization

#### Enhancement Opportunities:
- [Element name]: Source provides [richer examples/better description]
- [Element name]: Source adds [missing technical details]
```

#### Step 6: Update Priority Assessment
**Goal**: Prioritize which updates provide most value
**Criteria**:
- **High Priority**: Missing critical elements, major inconsistencies
- **Medium Priority**: Incomplete descriptions, minor categorization differences  
- **Low Priority**: Enhanced examples, stylistic improvements

---

**COMPLETE TASK**: `mcp__todo-mcp__todo_complete position_id:1` when Phase 2 is done

### PHASE 3: CROSS-REFERENCE VALIDATION
**ALWAYS START TASK FIRST**: `mcp__todo-mcp__todo_start position_id:1`

#### Step 7: 3-Pass Enhancement Validation Framework
**Goal**: Systematic validation optimized for structured data enhancement

**Pass 1: Gap Analysis (Missing/Incomplete Elements)**
- **Missing Elements Audit**: Items in source not in knowledge base
- **Incomplete Elements Audit**: Elements with partial information in KB
- **Coverage Gap Assessment**: Quantify improvement potential
- **Priority Classification**: High/Medium/Low value gaps

**Results Format**:
```markdown
### Pass 1: Gap Analysis Results
#### Missing Elements (Not in KB): [count]
- [Element name] ([category]) - [impact assessment]
- [Element name] ([category]) - [impact assessment]

#### Incomplete Elements (Partial coverage): [count]
- [Element name]: Missing [specific fields/data]
- [Element name]: Missing [specific fields/data]

#### Coverage Improvement Potential:
- Current: [X] elements, [Y]% complete
- Post-enhancement: [X+n] elements, [Y+n]% complete
```

**Pass 2: Conflict Detection (Inconsistencies to Resolve)**
- **Direct Conflicts**: Source data contradicts existing KB data
- **Categorization Conflicts**: Same element classified differently
- **Format Inconsistencies**: Different data structure patterns
- **Trust Level Assessment**: Which source is more authoritative

**Results Format**:
```markdown
### Pass 2: Conflict Detection Results
#### Direct Conflicts: [count]
âš ï¸ **[Element name]**: Source says [X], KB says [Y] - [resolution needed]
âš ï¸ **[Element name]**: [description] - [authority assessment]

#### Categorization Conflicts: [count]
- [Element]: Source=[category A], KB=[category B] - [recommendation]

#### Format Inconsistencies: [count]
- [Pattern difference description] - [standardization approach]

#### Trust Assessment:
- Source Authority: [GREEN/YELLOW/RED] - [justification]
- Conflict Resolution: [prefer source/prefer KB/manual review]
- **If GREEN (compiler source)**: AUTO-RESOLVE conflicts in favor of compiler data

#### Special Audit Report (Required for GREEN trust sources):
**Generate comprehensive conflict documentation for potential compiler team consultation**:
```markdown
### Compiler Authority Conflict Audit
#### Direct Value Changes: [count]
âš ï¸ **[Element name]**: 
  - Original KB: [exact original value/description]
  - Compiler Source: [exact new value/description] 
  - Resolution: Adopted compiler version (PROVISIONAL - may need compiler team review)
  - Confidence: [High/Medium/Low] - [reasoning]
  - Impact: [description of change significance]

#### Internal Inconsistencies Found: [count]
ðŸ” **[Element name]**: 
  - Inconsistency: [description of self-contradiction in source]
  - Location: [where in JSON this appears]
  - Severity: [impacts understanding/minor formatting/etc.]
  - Needs Review: [Yes/No] - [compiler team consultation needed?]

#### New Elements Discovered: [count]
âœ¨ **[Element name]** ([category]): [description] - Previously unknown
  - Verification Status: [Confident/Needs validation]
  - Cross-check: [any corroborating evidence]

#### Knowledge Evolution Insights:
- [Insight 1]: [How our understanding changed]
- [Insight 2]: [What misconceptions were corrected]

#### Compiler Team Review Candidates:
**Items requiring potential consultation**:
- [Conflict description] - [why uncertain]
- [Internal inconsistency] - [clarification needed]
```
```

**Pass 3: Enhancement Value Assessment (Improvements Gained)**
- **Quantitative Improvements**: Coverage, completeness metrics
- **Qualitative Improvements**: Better descriptions, examples, categorization
- **Capability Enablement**: New documentation/tooling possibilities
- **Integration Benefits**: Cross-reference improvements, consistency gains

**Results Format**:
```markdown
### Pass 3: Enhancement Value Assessment
#### Quantitative Improvements:
- **Coverage**: [current count] â†’ [enhanced count] ([+X] elements)
- **Completeness**: [current %] â†’ [enhanced %] fields populated
- **Categories Enhanced**: [list]

#### Qualitative Improvements:
- **Better Descriptions**: [count] elements with enhanced explanations
- **Enhanced Examples**: [count] elements with improved examples
- **Improved Categorization**: [count] elements properly classified

#### New Capabilities Enabled:
- [Specific capability 1]: [description]
- [Specific capability 2]: [description]

#### Integration Benefits:
- **Cross-references**: [count] new internal links possible
- **Consistency**: [description of standardization achieved]
- **Tool Integration**: [automation opportunities enabled]
```

#### Step 8: Enhancement Plan Development
**Goal**: Create systematic update plan based on 3-pass validation
**Input**: Results from all 3 validation passes
**Output**:
```markdown
### Enhancement Execution Plan
#### Phase A: Resolve Conflicts (Pass 2 Results)
- [Conflict resolution order by priority]
- [Trust level decisions and rationale]

#### Phase B: Fill Critical Gaps (Pass 1 High Priority)
- [Missing elements to add first]
- [Incomplete elements to complete]

#### Phase C: Enhancement and Polish (Pass 3 Opportunities)
- [Quality improvements to implement]
- [Cross-reference enhancements]

#### Risk Mitigation:
- [Backup strategy for modified files]
- [Validation checkpoints after each phase]
- [Rollback plan if issues discovered]
```

---

**COMPLETE TASK**: `mcp__todo-mcp__todo_complete position_id:1` when Phase 3 is done

### PHASE 4: SYSTEMATIC YAML FILE UPDATES
**ALWAYS START TASK FIRST**: `mcp__todo-mcp__todo_start position_id:1`

#### Step 10: Execute Enhancement Plan
**Goal**: Systematically update knowledge base files
**Process**:
1. **Create missing files**: Add new YAML files for missing elements
2. **Update existing files**: Enhance partial information
3. **Resolve inconsistencies**: Update conflicting information
4. **Maintain formatting consistency**: Follow existing YAML patterns

**Update Execution Rules**:
- **One category at a time**: Complete all files in category before moving on
- **Preserve existing structure**: Match formatting patterns of existing files
- **Source attribution**: Note enhancement source in file metadata
- **Backup originals**: Keep copy of original versions for safety

#### Step 11: Cross-Reference Maintenance
**Goal**: Update any cross-references affected by changes
**Process**:
1. **Update internal links**: Fix references between updated files
2. **Maintain indexes**: Update any master index files
3. **Category adjustments**: Move files if categorization changed
4. **Dependency updates**: Update files that reference modified elements

#### Step 12: Quality Assurance Pass
**Goal**: Verify updates meet quality standards
**Checks**:
- **YAML syntax validation**: Ensure all files parse correctly
- **Formatting consistency**: Match existing style patterns
- **Content completeness**: Verify required fields populated
- **Cross-reference integrity**: Check all links work correctly

---

**COMPLETE TASK**: `mcp__todo-mcp__todo_complete position_id:1` when Phase 4 is done

### PHASE 5: VALIDATION & CONSISTENCY VERIFICATION
**ALWAYS START TASK FIRST**: `mcp__todo-mcp__todo_start position_id:1`

#### Step 13: Updated Knowledge Base Validation
**Goal**: Verify enhanced knowledge base maintains consistency
**Process**:
1. **Structure validation**: Check directory/file organization
2. **Content validation**: Verify information accuracy
3. **Cross-reference validation**: Test all internal links
4. **Format validation**: Ensure YAML syntax correct

#### Step 14: Enhancement Quality Assessment
**Goal**: Measure improvement achieved
**Metrics**:
- **Coverage increase**: [Before count] â†’ [After count] elements
- **Completeness improvement**: [% fields with partial data before] â†’ [% after]
- **Consistency improvements**: [Conflicts resolved count]
- **New capabilities enabled**: [What's now possible that wasn't before]

#### Step 15: Integration Testing
**Goal**: Verify updates don't break existing functionality
**Tests**:
- **Documentation generation**: Test if docs still build correctly
- **Cross-reference integrity**: Verify no broken links introduced
- **Category consistency**: Check categorization still logical
- **Format compliance**: Ensure automated tools still work

---

**COMPLETE TASK**: `mcp__todo-mcp__todo_complete position_id:1` when Phase 5 is done

### PHASE 6: SYSTEM UPDATES & TRACKING
**ALWAYS START TASK FIRST**: `mcp__todo-mcp__todo_start position_id:1`

#### Step 16: Update Knowledge Base Enhancement Tracking
**Location**: `/engineering/ingestion/sources/pnut-ts-pasm-ref/enhancement-tracking/`
**Required Files**:
- `enhancement-log.md`: Record of all enhancements performed
- `yaml-update-matrix.md`: Track which YAML files have been enhanced
- `coverage-metrics.md`: Track knowledge base coverage improvements over time
- `source-integration-status.md`: Track compiler data source integration

**Enhancement Log Entry Format**:
```markdown
## [Date] - [Source Name] Knowledge Base Enhancement
**Source**: [file path and metadata]
**Source Type**: [Compiler data/Language specification/etc.]
**Trust Level**: [GREEN/YELLOW/RED] - [justification]

### Enhancement Results:
**Elements Enhanced**: [count] ([breakdown by category])
**YAML Files Created**: [count and list]
**YAML Files Modified**: [count and list]
**Knowledge Coverage**: [before%] â†’ [after%] ([+X]% improvement)

### Quality Improvements:
**Conflicts Resolved**: [count]
**Gaps Filled**: [count] missing elements added
**Completeness**: [count] partial elements completed

### Integration Impact:
**Cross-references**: [count] new internal links
**Capabilities Enabled**: [list new documentation/tooling possibilities]
**Consistency Gains**: [description]
```

#### Step 17: Update Operations Dashboard  
**Location**: `/engineering/README.md`
**Knowledge Base Metrics Updates**:
- **Element Coverage**: Update total counts per category (keywords, operators, functions, etc.)
- **Completeness Percentages**: Update % of elements with complete information
- **YAML File Status**: Update count of complete vs partial files
- **Enhancement Sources**: Note compiler data integration status

**Capability Improvements Updates**:
- **Documentation Generation**: Note improved completeness for automated docs
- **Code Analysis**: Document enhanced instruction/language element coverage
- **Cross-reference Quality**: Update internal linking completeness
- **Tool Integration**: Note new automation possibilities enabled

#### Step 18: Update Knowledge Base Enhancement Catalogs
**Update relevant catalog files**:
- **Enhancement Source Catalog**: Add compiler data source to enhancement tracking
- **YAML File Quality Matrix**: Update completeness status for modified files
- **Knowledge Coverage Matrix**: Update category coverage percentages
- **Integration Status**: Mark enhancement source as complete in tracking systems

#### Step 19: Update Knowledge Base Manifest Tree
**CRITICAL**: Verify and update all manifest files to reflect YAML changes
**Goal**: Ensure manifest accuracy after knowledge base modifications

**Process**:
1. **Identify affected manifests**: Find all manifest files that catalog modified YAML files
2. **Verify current accuracy**: Check if existing manifest entries match updated YAML files
3. **Update element counts**: Modify totals, category counts, coverage metrics
4. **Add new entries**: Include newly created YAML files in appropriate manifests
5. **Update categorization**: Reflect any category changes made during enhancement
6. **Validate manifest integrity**: Ensure no broken references or missing entries

**Manifest Update Locations**:
- **Root manifests**: Main knowledge base catalogs and indexes
- **Category manifests**: Language element category-specific manifests  
- **Coverage tracking**: Files that track completion percentages
- **Cross-reference indexes**: Files that maintain internal linking

**Validation Checklist**:
- [ ] All new YAML files included in appropriate manifests
- [ ] Modified YAML files have updated manifest entries
- [ ] Category counts reflect actual file counts
- [ ] Coverage percentages match enhanced knowledge base
- [ ] No orphaned manifest entries (pointing to non-existent files)
- [ ] Cross-reference indexes updated for new internal links

**Why This Matters**:
- **Automated tooling**: Many tools rely on manifest accuracy for knowledge base navigation
- **Documentation generation**: Manifest errors break automated documentation builds
- **Knowledge discovery**: Users/tools need accurate catalogs to find information
- **Integration testing**: Manifest inconsistencies cause validation failures

#### Step 20: Generate Enhancement Summary
**Create comprehensive summary**:
```markdown
## Knowledge Base Enhancement Summary - [Source Name]

### âœ… **Enhancement Completed**
- **Source**: [file and metadata]
- **Trust Level**: [color and justification]
- **Enhancement Type**: [Missing elements/Improvements/Consistency fixes]

### ðŸ“Š **Quantitative Results**
- **Elements Added**: [count] ([breakdown])
- **Elements Enhanced**: [count] ([breakdown])  
- **Files Created**: [count]
- **Files Modified**: [count]
- **Coverage Improvement**: [before%] â†’ [after%]

### ðŸŽ¯ **Qualitative Improvements**
- **New Capabilities**: [what's now possible]
- **Consistency Gains**: [conflicts resolved]
- **Quality Enhancement**: [description of improvements]

### ðŸ”„ **Integration Impact**
- **Dependencies Updated**: [cross-references fixed]
- **Documentation Impact**: [generation improvements]
- **Future Enhancement**: [opportunities identified]
```

---

**COMPLETE TASK**: `mcp__todo-mcp__todo_complete position_id:1` when Phase 6 is done

#### Step 21: MANDATORY COMPLETION VERIFICATION
**BEFORE DECLARING ENHANCEMENT COMPLETE:**

```bash
# Verify all core tasks completed
mcp__todo-mcp__todo_list tags:["knowledge_enhancement"]
# Should show 6 completed tasks, 0 pending

# Verify all files exist and validate
# Check YAML syntax of modified files
# Verify enhancement tracking updated
# Check dashboard metrics updated
# Verify no broken cross-references
```

**COMPLETION CHECKLIST** (ALL must be âœ… before marking complete):
- [ ] All 6 core MCP tasks marked completed
- [ ] Source self-consistency audit passed
- [ ] Gap analysis documented
- [ ] All planned YAML updates completed
- [ ] Cross-references maintained/updated
- [ ] Enhancement tracking updated
- [ ] Operations dashboard updated
- [ ] Quality validation passed
- [ ] Knowledge base manifest tree updated and validated
- [ ] Enhancement summary generated
- [ ] Context keys cleaned up
- [ ] Tasks archived

**FINAL CLEANUP**:
```bash
# Archive completed tasks
mcp__todo-mcp__todo_archive

# Clean up context keys
mcp__todo-mcp__context_delete key:"enhancement_active_[source-name]"
mcp__todo-mcp__context_delete key:"enhancement_gaps_[source-name]"

# Mark completion
mcp__todo-mcp__context_set key:"enhancement_complete_[source-name]" value:"Completed: [timestamp], Status: SUCCESS, Files updated: [count], Coverage: [improvement]"
```

---

## ðŸŽ¯ TASK GENERATION & EXECUTION METHODOLOGY
*How to systematically manage the enhancement process through Todo MCP*

### Phase A: Initial Task Generation
**IMMEDIATELY after receiving enhancement request:**

#### Step A1: Generate Core Enhancement Tasks
**CRITICAL**: All tasks MUST use tag `["knowledge_enhancement"]` to match this work mode's filter

```bash
# Create primary enhancement tasks with proper sequencing
mcp__todo-mcp__todo_create content:"Phase 1: Source analysis and self-consistency audit of [source-name]" priority:"critical" estimate_minutes:20 tags:["knowledge_enhancement"] sequence:1

mcp__todo-mcp__todo_create content:"Phase 2: Knowledge base inventory and gap analysis for [source-name]" priority:"critical" estimate_minutes:30 tags:["knowledge_enhancement"] sequence:2

mcp__todo-mcp__todo_create content:"Phase 3: Cross-reference validation between [source-name] and existing knowledge" priority:"critical" estimate_minutes:45 tags:["knowledge_enhancement"] sequence:3

mcp__todo-mcp__todo_create content:"Phase 4: Execute systematic YAML file updates from [source-name]" priority:"critical" estimate_minutes:90 tags:["knowledge_enhancement"] sequence:4

mcp__todo-mcp__todo_create content:"Phase 5: Validation and consistency verification of updated knowledge base" priority:"critical" estimate_minutes:30 tags:["knowledge_enhancement"] sequence:5

mcp__todo-mcp__todo_create content:"Phase 6: Update system catalogs and enhancement tracking for [source-name]" priority:"critical" estimate_minutes:25 tags:["knowledge_enhancement"] sequence:6
```

#### Step A2: Set Context Tracking
```bash
# Track enhancement progress
mcp__todo-mcp__context_set key:"enhancement_active_[source-name]" value:"Started: [timestamp], Source: [full-path], Tasks generated: 6 core tasks"
```

### Phase B: Systematic Task Execution
**Execute tasks in sequence, marking progress:**

#### Task Execution Pattern
1. **Start next task**: `mcp__todo-mcp__todo_start position_id:1`
2. **Execute the work** (following step process within each phase)
3. **Complete task**: `mcp__todo-mcp__todo_complete position_id:1` 
4. **Generate follow-up tasks if discovered**
5. **Move to next task**

---

## ðŸ“‹ SUCCESS CRITERIA

### Knowledge Base Enhancement Complete When:
- [ ] **âœ… MANDATORY: All 6 MCP tasks created and completed**
- [ ] **Source self-consistency audit passed** with documented results
- [ ] **Gap analysis completed** identifying all missing/incomplete elements
- [ ] **Cross-reference validation completed** with conflicts identified/resolved
- [ ] **All planned YAML file updates completed** following quality standards
- [ ] **Consistency verification passed** with no broken cross-references
- [ ] **Enhancement tracking updated** with quantitative and qualitative results
- [ ] **Operations dashboard updated** with new metrics
- [ ] **Integration testing passed** verifying functionality maintained
- [ ] **Enhancement summary generated** documenting improvements achieved
- [ ] **âœ… MANDATORY: Tasks archived and context cleaned up**

---

## ðŸš¨ CRITICAL RULES

### Update Safety Protocol
1. **Backup before modification**: Keep original versions safe
2. **One category at a time**: Complete related updates together
3. **Validate continuously**: Check syntax and consistency frequently
4. **Test cross-references**: Verify links work after updates
5. **Document all changes**: Maintain audit trail of modifications

### Quality Standards
- **Source attribution**: Note enhancement source in file metadata
- **Format consistency**: Match existing YAML patterns exactly
- **Completeness**: Fill required fields, mark incomplete ones
- **Cross-reference integrity**: Maintain all internal links
- **Category consistency**: Follow established categorization patterns

### Conflict Resolution Protocol
- **Source authority hierarchy**: Official compiler > verified community > manual transcription
- **When in doubt**: Mark as review item rather than make uncertain changes
- **Document conflicts**: Record disagreements for future resolution
- **Preserve stability**: Don't break existing functionality for uncertain improvements

---

**This guide covers ONLY knowledge base enhancement workflow using structured data sources. Document ingestion and content generation get their own focused guides.**